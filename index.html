<html>
<head>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="/socket.io/socket.io.js"></script>
<script>
jQuery(document).ready(function() { 

    var socket = io.connect('http://localhost');

    socket.on('news', function (data) {
        $('#dialog').append(data.sender+": "+data.msg+"<br>")
    });
    
    $('#stuff').keyup(function(e) {
        if(e.keyCode == 13) {
            msg  = $('#stuff').val()
            if (msg != "\n") {
                nick = $('#nick').val()
                socket.emit('my other event', { msg:msg, sender:nick });
            }
            $('#stuff').val('')
        }
    });
    
});
</script>
</head>
<body>
<div id="dialog" style="width:600px;height:300px;border:solid silver 1px">
</div>
<input id="nick" style="width:600px;" value="Anonymous Coward"><br>
<textarea id="stuff" style="width:600px;height:60px;"></textarea>
</body>
</html>
